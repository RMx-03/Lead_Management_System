// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") 
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  leads     Lead[] 
}

model Lead {
  id              String         @id @default(cuid())
  firstName       String         @map("first_name")
  lastName        String         @map("last_name")
  email           String         @unique
  phone           String
  company         String
  city            String
  state           String
  source          LeadSource
  status          LeadStatus
  score           Int
  leadValue       Float          @map("lead_value")
  lastActivityAt  DateTime?      @map("last_activity_at")
  isQualified     Boolean        @default(false) @map("is_qualified")
  createdAt       DateTime       @default(now()) @map("created_at")
  updatedAt       DateTime       @updatedAt @map("updated_at")
  
  // Relation to User
  ownerId         String
  owner           User           @relation(fields: [ownerId], references: [id])
}

// Enums as required by the assignment
enum LeadSource {
  website
  facebook_ads
  google_ads
  referral
  events
  other
}

enum LeadStatus {
  new
  contacted
  qualified
  lost
  won
}